{"ast":null,"code":"var _jsxFileName = \"/Users/johnnymcnamee/BreatheOut/client/src/components/Profile.js\";\nimport React, { Component } from \"react\";\nimport \"bootswatch/dist/minty/bootstrap.css\";\nimport profilephoto from \"../assets/profilephoto.jpg\";\nimport { storage } from \"../firebase/firebaseIndex\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getProfile = async () => {\n      try {\n        const id = localStorage.getItem(\"userId\");\n        console.log(id);\n        this.setState({\n          userId: id\n        });\n        const response = await fetch(`http://localhost:5000/Profile/${id}`, {\n          method: \"GET\"\n        }); // results from database in JSON\n\n        const jsonData = await response.json();\n        console.log(jsonData); // add these to state\n\n        this.setState({\n          name: jsonData[0].name,\n          bio: jsonData[0].bio,\n          photoUrl: jsonData[0].photo_url,\n          username: jsonData[0].username\n        });\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    this.updateProfile = async () => {\n      try {\n        const id = localStorage.getItem(\"userId\");\n        const name = this.state.name;\n        const username = this.state.username;\n        const bio = this.state.bio;\n        const photoUrl = this.state.photoUrl;\n        const body = {\n          name,\n          username,\n          bio,\n          photoUrl\n        };\n        const response = await fetch(`http://localhost:5000/Profile/${id}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(body)\n        });\n        const jsonData = await response.json();\n        console.log(jsonData); // store image in local storage\n\n        localStorage.setItem(\"photoUrl\", photoUrl);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    this.handleUpload = () => {\n      const image = this.state.image;\n      console.log(image);\n      const uploadTask = storage.ref(`images/${image.name}`).put(image);\n      uploadTask.on(\"state_changed\", snapshot => {}, error => {\n        console.log(error);\n      }, () => {\n        storage.ref(\"images\").child(image.name).getDownloadURL().then(url => {\n          this.setState({\n            photoUrl: url\n          }); //console.log(\"photoUrl: \", this.state.photoUrl)\n        });\n      }); // new image url in state, update the database with it?\n    };\n\n    this.state = {\n      userId: \"\",\n      name: \"user123456789\",\n      username: \"\",\n      userPicture: null,\n      bio: \"I have been practicing yoga for 5 years. I come from Ireland. I'm particularly interested in learning and practicing hot yoga. I'm also very interested in mindfulness, meditation and breathing exercises. I am a big fan of Wim Hof and I practice his method every day. I hope to meet some like minded people on this app.\",\n      editingProfile: false,\n      usernameInput: \"\",\n      bioInput: \"\",\n      picture: null,\n      pictureBin: null,\n      photoUrl: \"\",\n      image: null\n    };\n    this.handleProfileButtonClick = this.handleProfileButtonClick.bind(this);\n    this.handleFinishButtonClick = this.handleFinishButtonClick.bind(this);\n    this.handleUsernameInputChange = this.handleUsernameInputChange.bind(this);\n    this.handleNameInputButtonClick = this.handleNameInputButtonClick.bind(this);\n    this.handleBioInputChange = this.handleBioInputChange.bind(this);\n    this.handleBioInputButtonClick = this.handleBioInputButtonClick.bind(this);\n    this.handlePictureChange = this.handlePictureChange.bind(this);\n    this.handlePictureUploadButtonClick = this.handlePictureUploadButtonClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.getProfile();\n    this.getImageFromProps();\n  }\n\n  getImageFromProps() {\n    this.setState({\n      photoUrl: this.props.imageUrl\n    });\n  }\n\n  handleProfileButtonClick() {\n    this.setState({\n      editingProfile: true\n    });\n  }\n\n  handleFinishButtonClick() {\n    this.setState({\n      editingProfile: false\n    }); // post the updates to the database here\n\n    this.updateProfile();\n  }\n\n  handleUsernameInputChange(event) {\n    this.setState({\n      usernameInput: event.target.value\n    });\n  }\n\n  handleNameInputButtonClick() {\n    this.setState({\n      username: this.state.usernameInput\n    });\n  }\n\n  handleBioInputChange(event) {\n    this.setState({\n      bioInput: event.target.value\n    });\n  }\n\n  handleBioInputButtonClick() {\n    this.setState({\n      bio: this.state.bioInput\n    });\n  }\n\n  handlePictureChange(event) {\n    if (event.target.files[0]) {\n      let image = event.target.files[0]; //image.name = `${localStorage.getItem(\"userId\")}.jpg`;\n\n      this.setState({\n        //picture: URL.createObjectURL(event.target.files[0]),\n        picture: image,\n        image: image\n      });\n      console.log(\"picture\");\n      console.log(URL.createObjectURL(event.target.files[0]));\n      console.log(\"image\", image);\n    }\n  }\n\n  handlePictureUploadButtonClick() {\n    this.setState({\n      userPicture: this.state.picture\n    });\n    this.handleUpload();\n  }\n\n  render() {\n    const handleUsernameInput = this.handleUsernameInputChange;\n    const handleBioInput = this.handleBioInputChange; //console.log(\"props: \", this.props.imageUrl);\n    //console.log(\"state: \", this.state.photoUrl);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"jumbotron\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src:\n          /* There is surely a better way to do this */\n          this.state.photoUrl || this.props.imageUrl || profilephoto,\n          style: {\n            height: 200,\n            borderRadius: 100\n          },\n          alt: \"userPic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"display-3\",\n          children: \"Namaste...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"lead\",\n          children: [\"Name: \", this.state.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"lead\",\n          children: [\"Username: \", this.state.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"lead\",\n          children: [\"Bio: \", this.state.bio]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"lead\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary btn-lg\",\n            href: \"#\",\n            onClick: this.handleProfileButtonClick,\n            children: \"edit profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), this.state.editingProfile === true && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Edit Username\", \" \", /*#__PURE__*/_jsxDEV(\"form\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: handleUsernameInput\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            onClick: this.handleNameInputButtonClick,\n            children: \"Save Userame\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"exampleTextarea\",\n              children: \"Edit Bio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control\",\n              id: \"exampleTextarea\",\n              rows: \"3\",\n              onChange: handleBioInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            onClick: this.handleBioInputButtonClick,\n            children: \"Save Bio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"exampleInputFile\",\n              children: \"Edit Profile picture\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              className: \"form-control-file\",\n              id: \"exampleInputFile\",\n              \"aria-describedby\": \"fileHelp\",\n              onChange: this.handlePictureChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              onClick: this.handlePictureUploadButtonClick,\n              children: \"upload picture\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              id: \"fileHelp\",\n              className: \"form-text text-muted\",\n              children: \"Choose a picture to upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: this.state.picture,\n              style: {\n                height: 200\n              },\n              alt: \"pic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary btn-lg\",\n            href: \"#\",\n            onClick: this.handleFinishButtonClick,\n            children: \"Finsihed Editing\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card text-white bg-primary mb-3\",\n        style: {\n          maxwidth: \"20 rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: \"Previously watched content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            style: {\n              backgroundColor: \"white\",\n              color: \"#56cc9d\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/PreviouslyWatched\",\n              children: \"Watch again\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: \"Did you like a video you've seen before? Click here to view your previously viewed content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card text-white bg-primary mb-3\",\n        style: {\n          maxwidth: \"20 rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: \"My Watchlist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            style: {\n              backgroundColor: \"white\",\n              color: \"#56cc9d\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/MyWatchList\",\n              children: \"Saved content\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: \"Click here to inspect your list of saved content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card text-white bg-primary mb-3\",\n        style: {\n          maxwidth: \"20 rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: \"My Achievements\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            style: {\n              backgroundColor: \"white\",\n              color: \"#56cc9d\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/MyAchievements\",\n              children: \"Achievements\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: \"Check your progress here, what milestones have you passed and what's coming up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/johnnymcnamee/BreatheOut/client/src/components/Profile.js"],"names":["React","Component","profilephoto","storage","Profile","constructor","props","getProfile","id","localStorage","getItem","console","log","setState","userId","response","fetch","method","jsonData","json","name","bio","photoUrl","photo_url","username","err","error","updateProfile","state","body","headers","JSON","stringify","setItem","handleUpload","image","uploadTask","ref","put","on","snapshot","child","getDownloadURL","then","url","userPicture","editingProfile","usernameInput","bioInput","picture","pictureBin","handleProfileButtonClick","bind","handleFinishButtonClick","handleUsernameInputChange","handleNameInputButtonClick","handleBioInputChange","handleBioInputButtonClick","handlePictureChange","handlePictureUploadButtonClick","componentDidMount","getImageFromProps","imageUrl","event","target","value","files","URL","createObjectURL","render","handleUsernameInput","handleBioInput","height","borderRadius","maxwidth","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"bootswatch/dist/minty/bootstrap.css\";\nimport profilephoto from \"../assets/profilephoto.jpg\";\nimport { storage } from \"../firebase/firebaseIndex\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userId: \"\",\n      name: \"user123456789\",\n      username: \"\",\n      userPicture: null,\n      bio:\n        \"I have been practicing yoga for 5 years. I come from Ireland. I'm particularly interested in learning and practicing hot yoga. I'm also very interested in mindfulness, meditation and breathing exercises. I am a big fan of Wim Hof and I practice his method every day. I hope to meet some like minded people on this app.\",\n      editingProfile: false,\n      usernameInput: \"\",\n      bioInput: \"\",\n      picture: null,\n      pictureBin: null,\n      photoUrl: \"\",\n      image: null,\n    };\n    this.handleProfileButtonClick = this.handleProfileButtonClick.bind(this);\n    this.handleFinishButtonClick = this.handleFinishButtonClick.bind(this);\n    this.handleUsernameInputChange = this.handleUsernameInputChange.bind(this);\n    this.handleNameInputButtonClick = this.handleNameInputButtonClick.bind(\n      this\n    );\n    this.handleBioInputChange = this.handleBioInputChange.bind(this);\n    this.handleBioInputButtonClick = this.handleBioInputButtonClick.bind(this);\n    this.handlePictureChange = this.handlePictureChange.bind(this);\n    this.handlePictureUploadButtonClick = this.handlePictureUploadButtonClick.bind(\n      this\n    );\n  }\n\n  componentDidMount() {\n    this.getProfile();\n    this.getImageFromProps();\n  }\n\n  getProfile = async () => {\n    try {\n      const id = localStorage.getItem(\"userId\");\n      console.log(id);\n      this.setState({ userId: id });\n      const response = await fetch(`http://localhost:5000/Profile/${id}`, {\n        method: \"GET\",\n      });\n\n      // results from database in JSON\n      const jsonData = await response.json();\n      console.log(jsonData);\n\n      // add these to state\n      this.setState({\n        name: jsonData[0].name,\n        bio: jsonData[0].bio,\n        photoUrl: jsonData[0].photo_url,\n        username: jsonData[0].username,\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  getImageFromProps() {\n    this.setState({ photoUrl: this.props.imageUrl });\n  }\n\n  updateProfile = async () => {\n    try {\n      const id = localStorage.getItem(\"userId\");\n      const name = this.state.name;\n      const username = this.state.username;\n      const bio = this.state.bio;\n      const photoUrl = this.state.photoUrl;\n\n      const body = { name, username, bio, photoUrl };\n      const response = await fetch(`http://localhost:5000/Profile/${id}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(body),\n      });\n\n      const jsonData = await response.json();\n      console.log(jsonData);\n\n      // store image in local storage\n      localStorage.setItem(\"photoUrl\", photoUrl);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // upload the user photo to firebase and retrieve the url\n  handleUpload = () => {\n    const image = this.state.image;\n    console.log(image);\n\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {},\n      (error) => {\n        console.log(error);\n      },\n      () => {\n        storage\n          .ref(\"images\")\n          .child(image.name)\n          .getDownloadURL()\n          .then((url) => {\n            this.setState({ photoUrl: url });\n            //console.log(\"photoUrl: \", this.state.photoUrl)\n          });\n\n      }\n    );\n\n    // new image url in state, update the database with it?\n\n  };\n\n  handleProfileButtonClick() {\n    this.setState({ editingProfile: true });\n  }\n\n  handleFinishButtonClick() {\n    this.setState({ editingProfile: false });\n    // post the updates to the database here\n    this.updateProfile();\n  }\n\n  handleUsernameInputChange(event) {\n    this.setState({ usernameInput: event.target.value });\n  }\n\n  handleNameInputButtonClick() {\n    this.setState({ username: this.state.usernameInput });\n  }\n\n  handleBioInputChange(event) {\n    this.setState({ bioInput: event.target.value });\n  }\n\n  handleBioInputButtonClick() {\n    this.setState({ bio: this.state.bioInput });\n  }\n\n  handlePictureChange(event) {\n    if (event.target.files[0]) {\n      let image = event.target.files[0];\n      //image.name = `${localStorage.getItem(\"userId\")}.jpg`;\n      this.setState({\n        //picture: URL.createObjectURL(event.target.files[0]),\n        picture: image,\n        image: image,\n      });\n      console.log(\"picture\");\n      console.log(URL.createObjectURL(event.target.files[0]));\n      console.log(\"image\", image);\n    }\n  }\n\n  handlePictureUploadButtonClick() {\n    this.setState({ userPicture: this.state.picture });\n    this.handleUpload();\n  }\n\n  render() {\n    const handleUsernameInput = this.handleUsernameInputChange;\n    const handleBioInput = this.handleBioInputChange;\n    //console.log(\"props: \", this.props.imageUrl);\n    //console.log(\"state: \", this.state.photoUrl);\n    return (\n      <div className=\"Profile\">\n        <div className=\"jumbotron\">\n          <img\n            src={\n              /* There is surely a better way to do this */\n              this.state.photoUrl || this.props.imageUrl || profilephoto\n            }\n            style={{ height: 200, borderRadius: 100 }}\n            alt=\"userPic\"\n          ></img>\n\n          <h1 className=\"display-3\">Namaste...</h1>\n          <p className=\"lead\">Name: {this.state.name}</p>\n          <p className=\"lead\">Username: {this.state.username}</p>\n          <p className=\"lead\">Bio: {this.state.bio}</p>\n\n          <p className=\"lead\">\n            <button\n              className=\"btn btn-primary btn-lg\"\n              href=\"#\"\n              onClick={this.handleProfileButtonClick}\n            >\n              edit profile\n            </button>\n          </p>\n\n          {this.state.editingProfile === true && (\n            <div>\n              <br />\n              <br />\n\n              <span>\n                Edit Username{\" \"}\n                <form>\n                  <input type=\"text\" onChange={handleUsernameInput}></input>\n                </form>\n              </span>\n              <br />\n\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary\"\n                onClick={this.handleNameInputButtonClick}\n              >\n                Save Userame\n              </button>\n              <br />\n              <br />\n              <br />\n              <div className=\"form-group\">\n                <label htmlFor=\"exampleTextarea\">Edit Bio</label>\n                <textarea\n                  className=\"form-control\"\n                  id=\"exampleTextarea\"\n                  rows=\"3\"\n                  onChange={handleBioInput}\n                ></textarea>\n              </div>\n              <br />\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary\"\n                onClick={this.handleBioInputButtonClick}\n              >\n                Save Bio\n              </button>\n              <br />\n              <br />\n              <br />\n\n              <div className=\"form-group\">\n                <label htmlFor=\"exampleInputFile\">Edit Profile picture</label>\n                <input\n                  type=\"file\"\n                  className=\"form-control-file\"\n                  id=\"exampleInputFile\"\n                  aria-describedby=\"fileHelp\"\n                  onChange={this.handlePictureChange}\n                ></input>\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                  onClick={this.handlePictureUploadButtonClick}\n                >\n                  upload picture\n                </button>\n                <small id=\"fileHelp\" className=\"form-text text-muted\">\n                  Choose a picture to upload\n                </small>\n                <img\n                  src={this.state.picture}\n                  style={{ height: 200 }}\n                  alt=\"pic\"\n                />\n              </div>\n\n              <br />\n              <br />\n              <br />\n\n              <button\n                className=\"btn btn-primary btn-lg\"\n                href=\"#\"\n                onClick={this.handleFinishButtonClick}\n              >\n                Finsihed Editing\n              </button>\n            </div>\n          )}\n        </div>\n\n        <div\n          className=\"card text-white bg-primary mb-3\"\n          style={{ maxwidth: \"20 rem\" }}\n        >\n          <div className=\"card-header\">Previously watched content</div>\n          <div className=\"card-body\">\n            <button\n              className=\"btn btn-primary\"\n              style={{ backgroundColor: \"white\", color: \"#56cc9d\" }}\n            >\n              <a href=\"/PreviouslyWatched\">Watch again</a>\n            </button>\n            <br />\n            <br />\n            <p className=\"card-text\">\n              Did you like a video you've seen before? Click here to view your\n              previously viewed content\n            </p>\n          </div>\n        </div>\n\n        <div\n          className=\"card text-white bg-primary mb-3\"\n          style={{ maxwidth: \"20 rem\" }}\n        >\n          <div className=\"card-header\">My Watchlist</div>\n          <div className=\"card-body\">\n            <button\n              className=\"btn btn-primary\"\n              style={{ backgroundColor: \"white\", color: \"#56cc9d\" }}\n            >\n              <a href=\"/MyWatchList\">Saved content</a>\n            </button>\n            <br />\n            <br />\n            <p className=\"card-text\">\n              Click here to inspect your list of saved content\n            </p>\n          </div>\n        </div>\n\n        <div\n          className=\"card text-white bg-primary mb-3\"\n          style={{ maxwidth: \"20 rem\" }}\n        >\n          <div className=\"card-header\">My Achievements</div>\n          <div className=\"card-body\">\n            <button\n              className=\"btn btn-primary\"\n              style={{ backgroundColor: \"white\", color: \"#56cc9d\" }}\n            >\n              <a href=\"/MyAchievements\">Achievements</a>\n            </button>\n            <br />\n            <br />\n            <p className=\"card-text\">\n              Check your progress here, what milestones have you passed and\n              what's coming up\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}